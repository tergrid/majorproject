/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
import{s as t,g as e,h as r,a as o,k as n,q as i,c as s,n as f,b as m}from"../../../../chunks/vec32.js";import{create as a}from"../../../../core/libs/gl-matrix-2/factories/vec3f64.js";import{geodesicArea as c}from"../../../../geometry/geometryEngine.js";import u from"../../../../geometry/Polygon.js";import p from"../../../../geometry/SpatialReference.js";import{projectPointToVector as l}from"../../../../geometry/projection/projectPointToVector.js";import{projectPointToWGS84ComparableLonLat as g}from"../../../../geometry/projection/projectPointToWGS84ComparableLonLat.js";import{projectVectorToWGS84ComparableLonLat as h}from"../../../../geometry/projection/projectVectorToWGS84ComparableLonLat.js";import{inverseGeodeticSolver as j,InverseGeodeticSolverResult as y}from"../../../../geometry/support/geodesicUtils.js";import{g as b}from"../../../../chunks/sphere.js";import{planeFromPoints as P}from"../../support/mathUtils.js";function S(n,i){const s=b(i);t(s,0,0,0);for(let t=0;t<n.length;++t)e(s,s,n[t]);r(s,s,1/n.length);let f=0;for(let t=0;t<n.length;++t)f=Math.max(f,o(s,n[t]));i[3]=Math.sqrt(f)}function w(t,e){if(t.length<3)throw new Error("need at least 3 points to fit a plane");P(t[0],t[1],t[2],e)}function G(t,e){return n(t,e)+t[3]}function W(t,e,r){return l(t,x,r)&&l(e,M,r)?i(x,M):0}function d(t,e){if(!g(t,x)||!g(e,M))return 0;const r=new y;return j(r,[x[0],x[1]],[M[0],M[1]],p.WGS84),r.distance}function L(t,e,r){const o=new y;return j(o,[t[0],t[1]],[e[0],e[1]],r??p.WGS84),o.distance}function T(t,e,r,o){const n=C;return h(t,o,x)&&h(e,o,M)&&h(r,o,v)?(n.setPoint(0,0,x),n.setPoint(0,1,M),n.setPoint(0,2,v),Math.abs(c(n,"square-meters"))):0}function k(r,o=null,i=!0){const a=1e-6,c=(t,e)=>{if(0===e[0]&&0===e[1]&&0===e[2])return!1;for(let r=0;r<t.length;++r)if(n(e,t[r])<-a)return!1;return!0};if(0===r.length)return!1;if(1===r.length)return o&&s(o,r[0]),!0;t(E,0,0,0);for(let t=0;t<r.length;++t)e(E,E,r[t]);if(f(E,E),c(r,E))return o&&s(o,E),!0;if(!i)return!1;for(let t=0;t<r.length;++t)for(let e=0;e<r.length;++e)if(t!==e&&(m(E,r[t],r[e]),f(E,E),c(r,E)))return o&&s(o,E),!0;return!1}function q(t){return"mouse"!==t.pointerType||0===t.button}const x=a(),M=a(),v=a(),C=new u({rings:[[x,M,v]],spatialReference:p.WGS84}),E=a();export{w as bestFitPlane,S as boundingSphere,k as fitHemisphere,q as isPrimaryPointerAction,G as planePointDistance,W as segmentLengthEuclidean,d as segmentLengthGeodesic,L as segmentLengthGeodesicVector,T as triangleAreaGeodesic};
