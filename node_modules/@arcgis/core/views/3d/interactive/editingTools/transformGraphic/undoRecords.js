/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
import{clone as e}from"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js";import{isRelativeVertexSpace as t}from"../../../../../geometry/support/meshVertexSpaceUtils.js";function r(e){return null!=e.geometry&&"mesh"===e.geometry.type?o(e.geometry):n(e)}function o(e){return t(e.vertexSpace)?i(e,e.transform,e.vertexSpace):m(e)}function n(e){let t=e.geometry,r=null;return{undo(e){r=e.geometry,e.geometry=t},redo(e){t=e.geometry,e.geometry=r}}}function i(t,r,o){let n=r?.clone(),i=e(o.origin),m=null,s=null;return{undo:r=>{m=t.transform?.clone(),s=e(o.origin),t.transform=n,t.vertexSpace.origin=i,r.notifyMeshTransformChanged()},redo:r=>{n=t.transform?.clone(),i=e(o.origin),t.transform=m,t.vertexSpace.origin=s,r.notifyMeshTransformChanged()}}}function m(e){let t,r=e.vertexAttributes.clonePositional();return{undo:o=>{t=e.vertexAttributes.clonePositional(),e.vertexAttributes=r,o.notifyGeometryChanged()},redo:o=>{r=e.vertexAttributes.clonePositional(),e.vertexAttributes=t,o.notifyGeometryChanged()}}}export{r as createGraphicGeometryUndoRecord};
