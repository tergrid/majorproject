/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
import"../../geometry.js";import{createLength as e}from"../../core/quantityUtils.js";import{create as t}from"../../core/libs/gl-matrix-2/factories/vec3f64.js";import{geodesicLength as r}from"../../geometry/geometryEngine.js";import{projectPolylineToWGS84ComparableLonLat as o}from"../../geometry/projection/projectPolylineToWGS84ComparableLonLat.js";import{projectVectorToWGS84ComparableLonLat as n}from"../../geometry/projection/projectVectorToWGS84ComparableLonLat.js";import{inverseGeodeticSolver as s,geodesicLengths as i,InverseGeodeticSolverResult as m}from"../../geometry/support/geodesicUtils.js";import{equals as c}from"../../geometry/support/spatialReferenceUtils.js";import{geodesicMeasure as f}from"./geodesicMeasurementUtils.js";import a from"../../geometry/SpatialReference.js";function p(e){const{spatialReference:t}=e;return f(t,R,d,h,e)}function l(e,t){if(!c(e.spatialReference,t.spatialReference))return null;const{spatialReference:r}=e;return x[0]=e.x,x[1]=e.y,x[2]=e.hasZ?e.z:0,G[0]=t.x,G[1]=t.y,G[2]=t.hasZ?t.z:0,u(x,G,r)}function u(e,t,r){return f(r,g,j,y,e,t,r)}function g(t,r,o){return e(s(S,t,r,o).distance,"meters")}function j(t,o,n){return e(r(L(t,o,n),"meters"),"meters")}function y(t,r,o){return n(t,o,U)&&n(r,o,W)?e(s(S,U,W,a.WGS84).distance,"meters"):null}function R(t){return e(i([t],"meters")[0],"meters")}function d(t){return e(r(t,"meters"),"meters")}function h(t){const r=[];if(!o(t,r))return null;let n=0;for(const e of r){let t=0;for(let r=1;r<e.length;++r)t+=s(S,e[r-1],e[r],a.WGS84).distance;n+=t}return e(n,"meters")}function L(e,t,r){return{type:"polyline",spatialReference:r,paths:[[[...e],[...t]]]}}const S=new m,x=t(),G=t(),U=t(),W=t();export{u as geodesicDistance,l as geodesicDistanceBetweenPoints,p as geodesicLength};
