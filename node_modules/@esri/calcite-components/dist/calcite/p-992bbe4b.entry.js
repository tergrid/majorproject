/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.9.0
 */
import{r as e,f as t,h as i,H as n,g as o,c as s,F as r}from"./p-0a4d99a4.js";import{s as a,k as c,d as l,g as d}from"./p-de4fc71c.js";import{s as h,a as u,c as f}from"./p-baa34b7d.js";import{c as p,d as m}from"./p-83656930.js";import{u as b,c as v,s as g,d as y}from"./p-dc6e1504.js";import{C as x}from"./p-cf6aa511.js";import"./p-23ee64b9.js";import"./p-f8fe47a7.js";import"./p-4f41a679.js";import"./p-36d175d9.js";const w=":host{display:flex}ul{margin:0px;display:inline-flex;block-size:100%;align-items:center;padding:0px}:host([layout=vertical]) ul{display:flex;inline-size:100%;flex-direction:column}:host([hidden]){display:none}[hidden]{display:none}";const k=w;const z=class{constructor(t){e(this,t);this.menuItems=[];this.handleMenuSlotChange=e=>{this.menuItems=a(e);this.setMenuItemLayout(this.menuItems,this.layout)};this.label=undefined;this.layout="horizontal";this.messageOverrides=undefined;this.messages=undefined;this.defaultMessages=undefined;this.effectiveLocale=""}handleGlobalAttributesChanged(){t(this);this.setMenuItemLayout(this.menuItems,this.layout)}handleLayoutChange(e){this.setMenuItemLayout(this.menuItems,e)}onMessagesChange(){}effectiveLocaleChange(){b(this,this.effectiveLocale)}connectedCallback(){p(this);v(this)}async componentWillLoad(){h(this);await g(this)}componentDidLoad(){u(this)}disconnectedCallback(){m(this);y(this)}async setFocus(){await f(this);this.el.focus()}calciteInternalNavMenuItemKeyEvent(e){const t=e.target;const i=e.detail.children;const n=e.detail.event.key;e.stopPropagation();if(n==="ArrowDown"){if(t.layout==="vertical"){c(this.menuItems,t,"next",false)}else{if(e.detail.isSubmenuOpen){i[0].setFocus()}}}else if(n==="ArrowUp"){if(this.layout==="vertical"){c(this.menuItems,t,"previous",false)}else{if(e.detail.isSubmenuOpen){i[i.length-1].setFocus()}}}else if(n==="ArrowRight"){if(this.layout==="horizontal"){c(this.menuItems,t,"next",false)}else{if(e.detail.isSubmenuOpen){i[0].setFocus()}}}else if(n==="ArrowLeft"){if(this.layout==="horizontal"){c(this.menuItems,t,"previous",false)}else{if(e.detail.isSubmenuOpen){this.focusParentElement(e.target)}}}else if(n==="Escape"){this.focusParentElement(e.target)}e.preventDefault()}focusParentElement(e){const t=e.parentElement;if(t){l(t);t.open=false}}setMenuItemLayout(e,t){e.forEach((e=>{e.layout=t;if(this.getEffectiveRole()==="menubar"){e.isTopLevelItem=true;e.topLevelMenuLayout=this.layout}}))}getEffectiveRole(){return this.el.getAttribute("role")||"menubar"}render(){return i(n,{key:"369a18142b5b22f203aa20f45638a7818b66d69a"},i("ul",{key:"5de9fb48f9eeb427b1ef220f34326749947b25b5","aria-label":this.label,role:this.getEffectiveRole()},i("slot",{key:"96f2b70399a79589a53564bdeb01a50fa753ad7d",onSlotchange:this.handleMenuSlotChange})))}static get delegatesFocus(){return true}static get assetsDirs(){return["assets"]}get el(){return o(this)}static get watchers(){return{role:["handleGlobalAttributesChanged"],layout:["handleLayoutChange"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}};z.style=k;const C={container:"container",content:"content",dropdownVertical:"dropdown--vertical",dropdownMenuItems:"dropdown-menu-items",dropdownAction:"dropdown-action",layoutVertical:"layout--vertical",hoverHrefIcon:"hover-href-icon",icon:"icon",iconBreadcrumb:"icon--breadcrumb",iconDropdown:"icon--dropdown",iconEnd:"icon--end",iconStart:"icon--start",isParentVertical:"parent--vertical",itemContent:"item-content",open:"open",nested:"nested",textContainer:"text-container"};const I=':host{position:relative;box-sizing:border-box;display:flex;align-items:center;flex-shrink:0}:host .container,:host .item-content,:host .content{min-block-size:3rem}:host([layout=vertical]){inline-size:100%}:host(:not([layout=vertical])){block-size:100%}.container,.item-content{display:flex;block-size:100%;inline-size:100%;flex-direction:row;align-items:stretch}.content{position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;cursor:pointer;align-items:center;justify-content:center;background-color:var(--calcite-color-foreground-1);padding-inline:1rem;font-size:var(--calcite-font-size-0);color:var(--calcite-color-text-2);outline:2px solid transparent;outline-offset:2px;text-decoration:none;border-block-end:0.125rem solid transparent;padding-block-start:0.125rem}.content:hover{background-color:var(--calcite-color-foreground-2);color:var(--calcite-color-text-2)}.content:focus{background-color:var(--calcite-color-foreground-2);color:var(--calcite-color-text-2);outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(\n            -2px *\n            calc(\n              1 -\n              2 * clamp(\n                0,\n                var(--calcite-offset-invert-focus),\n                1\n              )\n            )\n          )}.content:active{background-color:var(--calcite-color-foreground-3);color:var(--calcite-color-text-1)}.content span{display:inline-flex}.content.layout--vertical{display:flex;inline-size:100%;justify-content:flex-start;padding-block:1rem;border-block-end:0;border-inline-end:0.25rem solid transparent}:host([active]) .content{color:var(--calcite-color-text-1);border-color:var(--calcite-color-brand)}:host([active]) .content .icon{--calcite-ui-icon-color:var(--calcite-color-brand)}:host([layout=vertical]) .content{padding-inline:0.75rem}.icon--start{margin-inline-end:0.75rem}.icon--end{margin-inline-start:0.75rem}:host([layout=vertical]) .icon--end{margin-inline-start:auto;padding-inline-start:0.75rem}.icon--dropdown{position:relative;margin-inline-start:auto;margin-inline-end:0px;padding-inline-start:0.5rem;--calcite-ui-icon-color:var(--calcite-color-text-3)}:host([layout=vertical]) .icon--end~.icon--dropdown{margin-inline-start:0.75rem}:host([layout=vertical]) .hover-href-icon{padding-inline-start:0.5rem}:host([layout=vertical]) .hover-href-icon~.icon--end{margin-inline-start:0.5rem}:host([layout=vertical]) .hover-href-icon~.icon--breadcrumb{margin-inline-start:0.75rem}.icon--breadcrumb{margin-inline-end:0px;padding-inline-start:0.5rem;--calcite-ui-icon-color:var(--calcite-color-text-3)}:host([layout=vertical]) .icon--breadcrumb{margin-inline-start:auto}:host([layout=vertical]) .icon--breadcrumb~.icon--dropdown{margin-inline-start:0.5rem}:host([layout=vertical]) .icon--end~.icon--breadcrumb{margin-inline-start:0.5rem}:host([breadcrumb]) .content{padding-inline-end:0.75rem}calcite-action{position:relative;block-size:auto;border-inline-start:1px solid var(--calcite-color-foreground-1)}calcite-action:after{position:absolute;inset-inline-start:-1px;display:block;inline-size:1px;content:"";inset-block:0.75rem;background-color:var(--calcite-color-border-3)}calcite-action:hover:after{block-size:100%;inset-block:0}.content:focus~calcite-action,.content:hover~calcite-action{color:var(--calcite-color-text-1);border-inline-start:1px solid var(--calcite-color-border-3)}.container:hover .dropdown-action{background-color:var(--calcite-color-foreground-2)}.dropdown-menu-items{position:absolute;display:none;block-size:auto;min-inline-size:100%;flex-direction:column;overflow:visible;border:1px solid var(--calcite-color-border-3);background:var(--calcite-color-foreground-1);inset-block-start:100%;z-index:var(--calcite-z-index-dropdown)}.dropdown-menu-items.open{display:block}.dropdown-menu-items.nested{position:absolute;inset-block-start:-1px;transform:translateX(calc(100% - 2px))}.parent--vertical{flex-direction:column}.dropdown--vertical.dropdown-menu-items{position:relative;border-radius:0px;box-shadow:none;inset-block-start:0;transform:none}.dropdown--vertical.dropdown-menu-items:last-of-type{border-inline:0}:host([layout=vertical]:last-of-type) .dropdown-menu-items{border-block-end:0}:host([slot=submenu-item]) .parent--vertical{padding-inline-start:1.5rem}.dropdown-menu-items.nested.calcite--rtl{transform:translateX(calc(-100% + 2px))}.dropdown--vertical.dropdown-menu-items.nested.calcite--rtl{transform:none}.hover-href-icon{position:relative;inset-inline-end:0.25rem;margin-inline-start:auto;opacity:0;transition:all var(--calcite-internal-animation-timing-medium) ease-in-out}.content:focus .hover-href-icon,.content:hover .hover-href-icon{inset-inline-end:-0.25rem;opacity:1}:host([hidden]){display:none}[hidden]{display:none}';const L=I;const j=class{constructor(t){e(this,t);this.calciteInternalMenuItemKeyEvent=s(this,"calciteInternalMenuItemKeyEvent",7);this.calciteMenuItemSelect=s(this,"calciteMenuItemSelect",7);this.clickHandler=e=>{if(this.href&&e.target===this.dropdownActionEl||!this.href&&this.hasSubmenu){this.open=!this.open}this.selectMenuItem(e)};this.handleMenuItemSlotChange=e=>{this.submenuItems=a(e);this.submenuItems.forEach((e=>{if(!e.topLevelMenuLayout){e.topLevelMenuLayout=this.topLevelMenuLayout}}));this.hasSubmenu=this.submenuItems.length>0};this.keyDownHandler=async e=>{const{hasSubmenu:t,href:i,layout:n,open:o,submenuItems:s}=this;const r=e.key;const a=e.target===this.dropdownActionEl;if(e.defaultPrevented){return}if(r===" "||r==="Enter"){if(t&&(!i||i&&a)){this.open=!o}if(!(i&&a)&&r!=="Enter"){this.selectMenuItem(e)}if(r===" "||i&&a){e.preventDefault()}}else if(r==="Escape"){if(o){this.open=false;return}this.calciteInternalMenuItemKeyEvent.emit({event:e});e.preventDefault()}else if(r==="ArrowDown"||r==="ArrowUp"){e.preventDefault();if((a||!i)&&t&&!o&&n==="horizontal"){this.open=true;return}this.calciteInternalMenuItemKeyEvent.emit({event:e,children:s,isSubmenuOpen:o&&t})}else if(r==="ArrowLeft"){e.preventDefault();this.calciteInternalMenuItemKeyEvent.emit({event:e,children:s,isSubmenuOpen:true})}else if(r==="ArrowRight"){e.preventDefault();if((a||!i)&&t&&!o&&n==="vertical"){this.open=true;return}this.calciteInternalMenuItemKeyEvent.emit({event:e,children:s,isSubmenuOpen:o&&t})}};this.active=undefined;this.breadcrumb=undefined;this.href=undefined;this.iconEnd=undefined;this.iconFlipRtl=undefined;this.iconStart=undefined;this.isTopLevelItem=false;this.label=undefined;this.layout=undefined;this.messageOverrides=undefined;this.messages=undefined;this.open=false;this.rel=undefined;this.target=undefined;this.text=undefined;this.topLevelMenuLayout=undefined;this.defaultMessages=undefined;this.effectiveLocale="";this.hasSubmenu=false;this.submenuItems=undefined}onMessagesChange(){}effectiveLocaleChange(){b(this,this.effectiveLocale)}async setFocus(){await f(this);this.anchorEl.focus()}handleClickOut(e){if(this.topLevelMenuLayout!=="vertical"&&this.hasSubmenu&&this.open&&!e.composedPath().includes(this.el)){this.open=false}}handleFocusOut(e){if(this.topLevelMenuLayout!=="vertical"&&!this.el.contains(e.relatedTarget)){this.open=false}}connectedCallback(){p(this);v(this)}async componentWillLoad(){h(this);await g(this)}componentDidLoad(){u(this)}disconnectedCallback(){m(this);y(this)}blurHandler(){this.isFocused=false}focusHandler(e){const t=e.target;this.isFocused=true;if(t.open&&!this.open){t.open=false}}selectMenuItem(e){if(e.target!==this.dropdownActionEl){this.calciteMenuItemSelect.emit()}}renderIconStart(){return i("calcite-icon",{class:`${C.icon} ${C.iconStart}`,flipRtl:this.iconFlipRtl==="start"||this.iconFlipRtl==="both",icon:this.iconStart,key:C.iconStart,scale:"s"})}renderIconEnd(){return i("calcite-icon",{class:`${C.icon} ${C.iconEnd}`,flipRtl:this.iconFlipRtl==="end"||this.iconFlipRtl==="both",icon:this.iconEnd,key:C.iconEnd,scale:"s"})}renderBreadcrumbIcon(e){return i("calcite-icon",{class:`${C.icon} ${C.iconBreadcrumb}`,icon:e==="rtl"?"chevron-left":"chevron-right",key:C.iconBreadcrumb,scale:"s"})}renderDropdownIcon(e){const t=e==="rtl"?"chevron-left":"chevron-right";return i("calcite-icon",{class:`${C.icon} ${C.iconDropdown}`,icon:this.topLevelMenuLayout==="vertical"||this.isTopLevelItem?this.open?"chevron-up":"chevron-down":t,key:C.iconDropdown,scale:"s"})}renderDropdownAction(e){const t=e==="rtl"?"chevron-left":"chevron-right";return i("calcite-action",{class:C.dropdownAction,icon:this.topLevelMenuLayout==="vertical"||this.isTopLevelItem?this.open?"chevron-up":"chevron-down":t,key:C.dropdownAction,onClick:this.clickHandler,onKeyDown:this.keyDownHandler,ref:e=>this.dropdownActionEl=e,text:this.messages.open})}renderSubmenuItems(e){return i("calcite-menu",{class:{[C.dropdownMenuItems]:true,[C.open]:this.open,[C.nested]:!this.isTopLevelItem,[x.rtl]:e==="rtl",[C.dropdownVertical]:this.topLevelMenuLayout==="vertical"},label:this.messages.submenu,layout:"vertical",role:"menu"},i("slot",{name:"submenu-item",onSlotchange:this.handleMenuItemSlotChange}))}renderHrefIcon(e){return i("calcite-icon",{class:C.hoverHrefIcon,icon:e==="rtl"?"arrow-left":"arrow-right",key:C.hoverHrefIcon,scale:"s"})}renderItemContent(e){const t=this.href&&(this.topLevelMenuLayout==="vertical"||!this.isTopLevelItem);return i(r,null,this.iconStart&&this.renderIconStart(),i("div",{class:C.textContainer},i("span",null,this.text)),t&&this.renderHrefIcon(e),this.iconEnd&&this.renderIconEnd(),this.breadcrumb?this.renderBreadcrumbIcon(e):null,!this.href&&this.hasSubmenu?this.renderDropdownIcon(e):null)}render(){const e=d(this.el);return i(n,{key:"276f8b05401a877de2602866602d47d4adfeeda6",onBlur:this.blurHandler,onFocus:this.focusHandler},i("li",{key:"d1615b223153ba107c1bf63f1084f5590113f3d1",class:{[C.container]:true,[C.isParentVertical]:this.topLevelMenuLayout==="vertical"},role:"none"},i("div",{key:"e4a1fea5711442e0923898612be8f9c48c36c0e4",class:C.itemContent},i("a",{key:"131f14ecfd17558d6a4b1722aa307fb68e0643a3","aria-current":this.isFocused?"page":false,"aria-expanded":this.open,"aria-haspopup":this.hasSubmenu,"aria-label":this.label,class:{[C.layoutVertical]:this.layout==="vertical",[C.content]:true},href:this.href,onClick:this.clickHandler,onKeyDown:this.keyDownHandler,ref:e=>this.anchorEl=e,rel:this.rel,role:"menuitem",tabIndex:this.isTopLevelItem?0:-1,target:this.target},this.renderItemContent(e)),this.href&&this.hasSubmenu?this.renderDropdownAction(e):null),this.renderSubmenuItems(e)))}static get assetsDirs(){return["assets"]}get el(){return o(this)}static get watchers(){return{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}};j.style=L;export{z as calcite_menu,j as calcite_menu_item};
//# sourceMappingURL=p-992bbe4b.entry.js.map