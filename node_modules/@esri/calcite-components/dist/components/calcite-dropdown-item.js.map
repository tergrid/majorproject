{"file":"calcite-dropdown-item.js","mappings":"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","names":[],"sources":["src/components/dropdown-item/dropdown-item.scss?tag=calcite-dropdown-item&encapsulation=shadow","src/components/dropdown-item/dropdown-item.tsx"],"sourcesContent":["@mixin itemStyling {\n  @apply text-color-3\n    relative\n    flex\n    flex-grow\n    cursor-pointer\n    items-center\n    no-underline\n    duration-150\n    ease-in-out;\n}\n\n:host {\n  @apply relative\n    flex\n    flex-grow\n    items-center\n    focus-base;\n}\n\n.container {\n  @include itemStyling;\n  @apply text-start;\n\n  & a {\n    @include itemStyling;\n    @apply focus-base;\n  }\n}\n\n.dropdown-item-content {\n  @apply flex-auto py-0.5;\n}\n\n// item icon\n.dropdown-item-icon {\n  @apply relative\n    opacity-0\n    duration-150\n    ease-in-out;\n  transform: scale(0.9);\n}\n\n:host([scale=\"s\"]) {\n  .container {\n    @apply text-n2h py-1 px-2;\n  }\n\n  .dropdown-item-icon,\n  .dropdown-item-icon--start {\n    padding-inline-end: var(--calcite-spacing-sm);\n  }\n\n  .dropdown-item-icon--end {\n    padding-inline-start: var(--calcite-spacing-sm);\n  }\n}\n\n:host([scale=\"m\"]) {\n  .container {\n    @apply text-n1h py-2 px-3;\n  }\n\n  .dropdown-item-icon,\n  .dropdown-item-icon--start {\n    padding-inline-end: var(--calcite-spacing-md);\n  }\n\n  .dropdown-item-icon--end {\n    padding-inline-start: var(--calcite-spacing-md);\n  }\n}\n\n:host([scale=\"l\"]) {\n  .container {\n    @apply text-0h py-2.5 px-4;\n  }\n\n  .dropdown-item-icon,\n  .dropdown-item-icon--start {\n    padding-inline-end: var(--calcite-spacing-xl);\n  }\n\n  .dropdown-item-icon--end {\n    padding-inline-start: var(--calcite-spacing-xl);\n  }\n}\n\n//focus\n:host(:focus) {\n  @apply focus-inset outline-none;\n\n  .container {\n    @apply text-color-1 no-underline;\n  }\n}\n\n:host(:hover:not([disabled])),\n:host(:active:not([disabled])) {\n  .container {\n    @apply bg-foreground-2 text-color-1 no-underline;\n  }\n\n  .dropdown-link {\n    @apply text-color-1;\n  }\n}\n\n:host(:active:not([disabled])) .container {\n  @apply bg-foreground-3;\n}\n\n:host([selected]) .container:not(.container--none-selection),\n:host([selected]) .dropdown-link {\n  @apply text-color-1 font-medium;\n  & calcite-icon {\n    color: theme(\"backgroundColor.brand\");\n  }\n}\n\n:host(:hover:not([disabled])) .dropdown-item-icon {\n  color: theme(\"borderColor.color.1\");\n  @apply opacity-100;\n}\n\n:host([selected]) .dropdown-item-icon {\n  color: theme(\"backgroundColor.brand\");\n  @apply opacity-100;\n}\n\n@include base-component();\n@include disabled();\n","import {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Listen,\n  Method,\n  Prop,\n  VNode,\n} from \"@stencil/core\";\nimport { toAriaBoolean } from \"../../utils/dom\";\nimport { ItemKeyboardEvent } from \"../dropdown/interfaces\";\nimport { RequestedItem } from \"../dropdown-group/interfaces\";\nimport { FlipContext, Scale, SelectionMode } from \"../interfaces\";\nimport {\n  componentFocusable,\n  LoadableComponent,\n  setComponentLoaded,\n  setUpLoadableComponent,\n} from \"../../utils/loadable\";\nimport { getIconScale } from \"../../utils/component\";\nimport {\n  InteractiveComponent,\n  InteractiveContainer,\n  updateHostInteraction,\n} from \"../../utils/interactive\";\nimport { CSS } from \"./resources\";\n\n/**\n * @slot - A slot for adding text.\n */\n@Component({\n  tag: \"calcite-dropdown-item\",\n  styleUrl: \"dropdown-item.scss\",\n  shadow: true,\n})\nexport class DropdownItem implements InteractiveComponent, LoadableComponent {\n  //--------------------------------------------------------------------------\n  //\n  //  Public Properties\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * When `true`, interaction is prevented and the component is displayed with lower opacity.\n   */\n  @Prop({ reflect: true }) disabled = false;\n\n  /**\n   *  Specifies the URL of the linked resource, which can be set as an absolute or relative path.\n   *\n   * Determines if the component will render as an anchor.\n   */\n  @Prop({ reflect: true }) href: string;\n\n  /** Displays the `iconStart` and/or `iconEnd` as flipped when the element direction is right-to-left (`\"rtl\"`). */\n  @Prop({ reflect: true }) iconFlipRtl: FlipContext;\n\n  /** Specifies an icon to display at the start of the component. */\n  @Prop({ reflect: true }) iconStart: string;\n\n  /** Specifies an icon to display at the end of the component. */\n  @Prop({ reflect: true }) iconEnd: string;\n\n  /** Accessible name for the component. */\n  @Prop() label: string;\n\n  /** Specifies the relationship to the linked document defined in `href`. */\n  @Prop({ reflect: true }) rel: string;\n\n  /** When `true`, the component is selected. */\n  @Prop({ reflect: true, mutable: true }) selected = false;\n\n  /** Specifies the frame or window to open the linked document. */\n  @Prop({ reflect: true }) target: string;\n\n  //--------------------------------------------------------------------------\n  //\n  //  Events\n  //\n  //--------------------------------------------------------------------------\n\n  /** Fires when the component is selected. */\n  @Event({ cancelable: false }) calciteDropdownItemSelect: EventEmitter<void>;\n\n  /**\n   * @internal\n   */\n  @Event({ cancelable: false }) calciteInternalDropdownItemSelect: EventEmitter<RequestedItem>;\n\n  /** @internal */\n  @Event({ cancelable: false })\n  calciteInternalDropdownItemKeyEvent: EventEmitter<ItemKeyboardEvent>;\n\n  /** @internal */\n  @Event({ cancelable: false }) calciteInternalDropdownCloseRequest: EventEmitter<void>;\n  //--------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  //--------------------------------------------------------------------------\n\n  /** Sets focus on the component. */\n  @Method()\n  async setFocus(): Promise<void> {\n    await componentFocusable(this);\n\n    this.el?.focus();\n  }\n\n  /**\n   * Specifies the selection mode inherited from `calcite-dropdown-group`, defaults to `single`:\n   * - `multiple` allows any number of selected items,\n   * - `single` allows only one selection (default),\n   * - `none` doesn't allow for any selection.\n   *\n   * @internal\n   */\n  @Prop() selectionMode: Extract<\"none\" | \"single\" | \"multiple\", SelectionMode> = \"single\";\n\n  /**\n   * Specifies the size of the component inherited from `calcite-dropdown`, defaults to `m`.\n   *\n   * @internal\n   */\n  @Prop({ reflect: true }) scale: Scale = \"m\";\n\n  //--------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  //--------------------------------------------------------------------------\n\n  componentWillLoad(): void {\n    setUpLoadableComponent(this);\n    this.initialize();\n  }\n\n  componentDidLoad(): void {\n    setComponentLoaded(this);\n  }\n\n  connectedCallback(): void {\n    this.initialize();\n  }\n\n  componentDidRender(): void {\n    updateHostInteraction(this);\n  }\n\n  render(): VNode {\n    const { href, selectionMode, label, iconFlipRtl } = this;\n\n    const iconStartEl = (\n      <calcite-icon\n        class={CSS.iconStart}\n        flipRtl={iconFlipRtl === \"start\" || iconFlipRtl === \"both\"}\n        icon={this.iconStart}\n        scale={getIconScale(this.scale)}\n      />\n    );\n    const contentNode = (\n      <span class={CSS.itemContent}>\n        <slot />\n      </span>\n    );\n    const iconEndEl = (\n      <calcite-icon\n        class={CSS.iconEnd}\n        flipRtl={iconFlipRtl === \"end\" || iconFlipRtl === \"both\"}\n        icon={this.iconEnd}\n        scale={getIconScale(this.scale)}\n      />\n    );\n\n    const slottedContent =\n      this.iconStart && this.iconEnd\n        ? [iconStartEl, contentNode, iconEndEl]\n        : this.iconStart\n          ? [iconStartEl, contentNode]\n          : this.iconEnd\n            ? [contentNode, iconEndEl]\n            : contentNode;\n\n    const contentEl = !href ? (\n      slottedContent\n    ) : (\n      <a\n        aria-label={label}\n        class={CSS.link}\n        href={href}\n        ref={(el) => (this.childLink = el)}\n        rel={this.rel}\n        tabIndex={-1}\n        target={this.target}\n      >\n        {slottedContent}\n      </a>\n    );\n\n    const itemRole = href\n      ? null\n      : selectionMode === \"single\"\n        ? \"menuitemradio\"\n        : selectionMode === \"multiple\"\n          ? \"menuitemcheckbox\"\n          : \"menuitem\";\n\n    const itemAria = selectionMode !== \"none\" ? toAriaBoolean(this.selected) : null;\n    const { disabled } = this;\n\n    return (\n      <Host\n        aria-checked={itemAria}\n        aria-label={!href ? label : \"\"}\n        role={itemRole}\n        tabIndex={disabled ? -1 : 0}\n      >\n        <InteractiveContainer disabled={disabled}>\n          <div\n            class={{\n              [CSS.container]: true,\n              [CSS.containerNone]: selectionMode === \"none\",\n            }}\n          >\n            {selectionMode !== \"none\" ? (\n              <calcite-icon\n                class={CSS.icon}\n                icon={selectionMode === \"multiple\" ? \"check\" : \"bullet-point\"}\n                scale={getIconScale(this.scale)}\n              />\n            ) : null}\n            {contentEl}\n          </div>\n        </InteractiveContainer>\n      </Host>\n    );\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Event Listeners\n  //\n  //--------------------------------------------------------------------------\n\n  @Listen(\"click\") onClick(): void {\n    this.emitRequestedItem();\n  }\n\n  @Listen(\"keydown\")\n  keyDownHandler(event: KeyboardEvent): void {\n    switch (event.key) {\n      case \" \":\n      case \"Enter\":\n        this.emitRequestedItem();\n        if (this.href) {\n          this.childLink.click();\n        }\n        event.preventDefault();\n        break;\n      case \"Escape\":\n        this.calciteInternalDropdownCloseRequest.emit();\n        event.preventDefault();\n        break;\n      case \"Tab\":\n        this.calciteInternalDropdownItemKeyEvent.emit({ keyboardEvent: event });\n        break;\n      case \"ArrowUp\":\n      case \"ArrowDown\":\n      case \"Home\":\n      case \"End\":\n        event.preventDefault();\n        this.calciteInternalDropdownItemKeyEvent.emit({ keyboardEvent: event });\n        break;\n    }\n  }\n\n  @Listen(\"calciteInternalDropdownItemChange\", { target: \"body\" })\n  updateActiveItemOnChange(event: CustomEvent): void {\n    const parentEmittedChange = event.composedPath().includes(this.parentDropdownGroupEl);\n\n    if (parentEmittedChange) {\n      this.requestedDropdownGroup = event.detail.requestedDropdownGroup;\n      this.requestedDropdownItem = event.detail.requestedDropdownItem;\n      this.determineActiveItem();\n    }\n    event.stopPropagation();\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private State/Props\n  //\n  //--------------------------------------------------------------------------\n\n  @Element() el: HTMLCalciteDropdownItemElement;\n\n  /** id of containing group */\n  private parentDropdownGroupEl: HTMLCalciteDropdownGroupElement;\n\n  /** requested group */\n  private requestedDropdownGroup: HTMLCalciteDropdownGroupElement;\n\n  /** requested item */\n  private requestedDropdownItem: HTMLCalciteDropdownItemElement;\n\n  /** if href is requested, track the rendered child link*/\n  private childLink: HTMLAnchorElement;\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  //--------------------------------------------------------------------------\n\n  private initialize(): void {\n    this.parentDropdownGroupEl = this.el.closest(\"calcite-dropdown-group\");\n    if (this.selectionMode === \"none\") {\n      this.selected = false;\n    }\n  }\n\n  private determineActiveItem(): void {\n    switch (this.selectionMode) {\n      case \"multiple\":\n        if (this.el === this.requestedDropdownItem) {\n          this.selected = !this.selected;\n        }\n        break;\n\n      case \"single\":\n        if (this.el === this.requestedDropdownItem) {\n          this.selected = true;\n        } else if (this.requestedDropdownGroup === this.parentDropdownGroupEl) {\n          this.selected = false;\n        }\n        break;\n\n      case \"none\":\n        this.selected = false;\n        break;\n    }\n  }\n\n  private emitRequestedItem(): void {\n    this.calciteDropdownItemSelect.emit();\n    this.calciteInternalDropdownItemSelect.emit({\n      requestedDropdownItem: this.el,\n      requestedDropdownGroup: this.parentDropdownGroupEl,\n    });\n  }\n}\n"],"version":3}